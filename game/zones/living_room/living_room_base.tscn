[gd_scene load_steps=14 format=3 uid="uid://qmrog76fwnmm"]

[ext_resource type="PackedScene" uid="uid://dch6y6iihywuc" path="res://game/zones/base_zone.tscn" id="1_a5qlr"]
[ext_resource type="PackedScene" uid="uid://iw3jh5lhjs2e" path="res://assets/models/zones/living_room/living_room.blend" id="2_yd3hy"]
[ext_resource type="AudioStream" uid="uid://dsjh1d3b0plor" path="res://assets/audio/sfx/living_room/light_buzz_loop.wav" id="3_5whe4"]
[ext_resource type="PackedScene" uid="uid://boll40m3suscs" path="res://game/zones/living_room/interactables/end_table.tscn" id="4_v2fwa"]
[ext_resource type="PackedScene" uid="uid://c1gb5c3hi4xlw" path="res://game/zones/living_room/interactables/phone.tscn" id="6_0s71t"]
[ext_resource type="PackedScene" uid="uid://bsoirpcijmsdr" path="res://game/components/key_items/funeral_card.tscn" id="6_clyh2"]
[ext_resource type="Script" path="res://addons/godot-xr-tools/objects/return_to_snap_zone.gd" id="6_u2fuu"]
[ext_resource type="PackedScene" uid="uid://ce7vysyvondf8" path="res://addons/godot-xr-tools/objects/snap_zone.tscn" id="7_h8hgi"]
[ext_resource type="PackedScene" uid="uid://bwr5d6rhqje32" path="res://game/components/key_items/nautilus_shell.tscn" id="8_dnesd"]
[ext_resource type="PackedScene" uid="uid://bvlg2vxjxi6gv" path="res://game/components/key_items/car_keys.tscn" id="9_nax6b"]
[ext_resource type="PackedScene" uid="uid://262lyqguj88g" path="res://game/components/return_to_snap_zone.tscn" id="10_s6swv"]

[sub_resource type="Environment" id="Environment_apxhd"]
background_mode = 1
ambient_light_source = 2
ambient_light_color = Color(0.905882, 0.843137, 0.705882, 1)
ambient_light_energy = 0.5
reflected_light_source = 1
sdfgi_read_sky_light = false

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_l85wr"]

[node name="LivingRoom" instance=ExtResource("1_a5qlr")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." index="0"]
environment = SubResource("Environment_apxhd")

[node name="XROrigin3D" parent="." index="1"]
transform = Transform3D(0.00214672, 0, -0.999997, 0, 1, 0, 0.999997, 0, 0.00214672, -1.71253, -0.0336731, 0)

[node name="living_room" parent="." index="2" instance=ExtResource("2_yd3hy")]

[node name="Floor" type="StaticBody3D" parent="." index="3"]
collision_layer = 2049

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor" index="0"]
shape = SubResource("WorldBoundaryShape3D_l85wr")

[node name="Lights" type="Node" parent="." index="4"]

[node name="OmniLight3D" type="OmniLight3D" parent="Lights" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.40268, 1.49688, -0.954904)
light_color = Color(1, 0.968627, 0.898039, 1)
omni_range = 10.0

[node name="OmniLight3D2" type="OmniLight3D" parent="Lights" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.51307, 0.694264, -1.98649)
light_color = Color(1, 0.968627, 0.898039, 1)

[node name="OmniLight3D3" type="OmniLight3D" parent="Lights" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.840763, 0.622989, 3.70981)
light_color = Color(1, 0.968627, 0.898039, 1)
light_energy = 1.5

[node name="SpotLight3D" type="SpotLight3D" parent="Lights" index="3"]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, 0, 1.37565, -5.78764)
visible = false
light_energy = 5.0
spot_range = 10.0
spot_angle = 73.7

[node name="Sounds" type="Node" parent="." index="5"]

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Sounds" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.40268, 1.49688, -0.954904)
stream = ExtResource("3_5whe4")
attenuation_model = 1
autoplay = true
max_distance = 10.0

[node name="AudioStreamPlayer3D2" type="AudioStreamPlayer3D" parent="Sounds" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.51307, 0.694264, -1.98649)
stream = ExtResource("3_5whe4")
attenuation_model = 1
autoplay = true
max_distance = 10.0

[node name="Interactables" type="Node" parent="." index="6"]

[node name="InteractableEndTable" parent="Interactables" index="0" instance=ExtResource("4_v2fwa")]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, -1.68582, -0.0431562, -1.02612)

[node name="InteractableEndTable2" parent="Interactables" index="1" instance=ExtResource("4_v2fwa")]
transform = Transform3D(-0.913914, 0, -0.405908, 0, 1, 0, 0.405908, 0, -0.913914, 5.5105, -0.0661959, -2.008)

[node name="InteractableEndTable3" parent="Interactables" index="2" instance=ExtResource("4_v2fwa")]
transform = Transform3D(0.0017453, -3.49395e-16, -0.999998, 3.48787e-16, 1, -3.48787e-16, 0.999998, -3.48178e-16, 0.0017453, 1.41455, -0.0380317, 1.99868)

[node name="SnapZone" parent="Interactables/InteractableEndTable3/SliderOrigin/InteractableSlider/Drawer" index="2"]
initial_object = NodePath("FuneralCard")

[node name="FuneralCard" parent="Interactables/InteractableEndTable3/SliderOrigin/InteractableSlider/Drawer/SnapZone" index="2" instance=ExtResource("6_clyh2")]
transform = Transform3D(1, -8.74636e-24, 1.33757e-09, -2.32026e-23, 1, 2.08173e-23, -1.45228e-08, -1.30925e-23, 1, 0, 0, 0)
collision_layer = 65536
collision_mask = 0
freeze = true

[node name="ReturnToSnapZone" type="Node" parent="Interactables/InteractableEndTable3/SliderOrigin/InteractableSlider/Drawer/SnapZone/FuneralCard" index="4"]
script = ExtResource("6_u2fuu")
snap_zone_path = NodePath("../..")
return_delay = 3.0

[node name="Phone" parent="Interactables" index="3" instance=ExtResource("6_0s71t")]
transform = Transform3D(-0.311821, 0, -0.950141, 0, 1, 0, 0.950141, 0, -0.311821, 1.39416, 0.539826, 1.99566)

[node name="FireplaceSnapZone" parent="Interactables" index="4" instance=ExtResource("7_h8hgi")]
transform = Transform3D(-0.699726, 0, 0.714412, 0, 1, 0, -0.714412, 0, -0.699726, -0.733034, 1.4407, 3.36832)

[node name="NautilusShell" parent="Interactables/FireplaceSnapZone" index="2" instance=ExtResource("8_dnesd")]

[node name="ReturnToSnapZone" parent="Interactables/FireplaceSnapZone/NautilusShell" index="4" instance=ExtResource("10_s6swv")]
snap_zone_path = NodePath("../..")
return_delay = 3.0

[node name="TVSnapZone" parent="Interactables" index="5" instance=ExtResource("7_h8hgi")]
transform = Transform3D(-0.586641, 0, -0.809847, 0, 1, 0, 0.809847, 0, -0.586641, -2.6703, 1.0926, -0.193725)

[node name="CarKeys" parent="Interactables/TVSnapZone" index="2" instance=ExtResource("9_nax6b")]

[node name="ReturnToSnapZone" parent="Interactables/TVSnapZone/CarKeys" index="4" instance=ExtResource("10_s6swv")]
snap_zone_path = NodePath("../..")
return_delay = 3.0

[editable path="Interactables/InteractableEndTable3"]
