[gd_scene load_steps=21 format=3 uid="uid://drobllaqkesrs"]

[ext_resource type="PackedScene" uid="uid://dqxtx5wdq7tuf" path="res://game/components/character/character.tscn" id="1_nje45"]
[ext_resource type="PackedScene" uid="uid://cm0ft6v3r5xwy" path="res://assets/models/characters/imports/character_oldadult_male.glb" id="2_4gf5y"]
[ext_resource type="Texture2D" uid="uid://ddo2q47hh1opv" path="res://assets/models/characters/textures/character-expressions.png" id="3_0pfag"]
[ext_resource type="PackedScene" uid="uid://hh51ljxlc0hj" path="res://assets/models/characters/props/drink.glb" id="3_krhma"]
[ext_resource type="Animation" uid="uid://umse44ou7mer" path="res://assets/models/characters/animations/RESET.res" id="3_u03iw"]
[ext_resource type="Animation" uid="uid://c84v12ydieih7" path="res://assets/models/characters/animations/HeadTurnLeft.res" id="4_a5niq"]
[ext_resource type="Animation" uid="uid://cgx66ckbdbauf" path="res://assets/models/characters/animations/HeadTurnRight.res" id="5_c0buc"]
[ext_resource type="Animation" uid="uid://cxuhe6corxo6i" path="res://assets/models/characters/animations/SitDrinkDrink_OldAdult_male.res" id="6_le4tv"]
[ext_resource type="Animation" uid="uid://e3pj4rky0xdl" path="res://assets/models/characters/animations/SitDrinkIdle_OldAdult_male.res" id="7_6peq2"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7mxoj"]
resource_name = "character_expression"
transparency = 4
albedo_texture = ExtResource("3_0pfag")
uv1_offset = Vector3(0.25, 0, 0)
texture_filter = 2

[sub_resource type="AnimationLibrary" id="AnimationLibrary_soyju"]
_data = {
"HeadTurnLeft": ExtResource("4_a5niq"),
"HeadTurnRight": ExtResource("5_c0buc"),
"RESET": ExtResource("3_u03iw"),
"SitDrinkDrink_OldAdult_male": ExtResource("6_le4tv"),
"SitDrinkIdle_OldAdult_male": ExtResource("7_6peq2")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_cspw3"]
radius = 0.15
height = 0.927584

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_fnk2l"]
filter_enabled = true
filters = ["%GeneralSkeleton:Head", "%GeneralSkeleton:Neck", "character_rig_oldadult_male/Skeleton3D:Head", "character_rig_oldadult_male/Skeleton3D:Neck"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_h617i"]
animation = &"SitDrinkDrink_OldAdult_male"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xn2pg"]
animation = &"SitDrinkIdle_OldAdult_male"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_8gf8s"]
fadein_time = 0.5
fadeout_time = 0.5

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xm70q"]
animation = &"HeadTurnLeft"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hramt"]
animation = &"HeadTurnRight"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_8xrqj"]
blend_point_0/node = SubResource("AnimationNodeAnimation_xm70q")
blend_point_0/pos = -1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_hramt")
blend_point_1/pos = 1.0

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_dvkwt"]
graph_offset = Vector2(-372.455, -41.1799)
nodes/Add2/node = SubResource("AnimationNodeAdd2_fnk2l")
nodes/Add2/position = Vector2(300, 110)
nodes/Animation/node = SubResource("AnimationNodeAnimation_xn2pg")
nodes/Animation/position = Vector2(-240, 120)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_h617i")
"nodes/Animation 2/position" = Vector2(-220, 250)
nodes/Drink/node = SubResource("AnimationNodeOneShot_8gf8s")
nodes/Drink/position = Vector2(100, 100)
nodes/HeadTurn/node = SubResource("AnimationNodeBlendSpace1D_8xrqj")
nodes/HeadTurn/position = Vector2(100, 320)
nodes/output/position = Vector2(490, 160)
node_connections = [&"Add2", 0, &"Drink", &"Add2", 1, &"HeadTurn", &"Drink", 0, &"Animation", &"Drink", 1, &"Animation 2", &"output", 0, &"Add2"]

[node name="CaseyOld" node_paths=PackedStringArray("mesh") instance=ExtResource("1_nje45")]
mesh = NodePath("character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male/character_rig_oldadult_male/GeneralSkeleton/character_oldadult_male")

[node name="character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male" parent="." index="0" instance=ExtResource("2_4gf5y")]

[node name="GeneralSkeleton" parent="character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male/character_rig_oldadult_male" index="0"]
bones/0/rotation = Quaternion(1.26881e-08, 0, 0, 1)
bones/9/position = Vector3(0, 0.941215, -0.040592)
bones/9/rotation = Quaternion(1.39129e-07, 1.35482e-14, 6.17573e-15, 1)
bones/10/rotation = Quaternion(7.04249e-10, 5.35186e-15, 3.38685e-16, 1)
bones/11/rotation = Quaternion(0.5, 0.5, 0.5, -0.5)
bones/12/rotation = Quaternion(0.00933758, 0.999932, -6.45369e-05, -0.00699328)
bones/13/rotation = Quaternion(1.42878e-05, -0.707117, 1.22226e-06, 0.707096)
bones/14/rotation = Quaternion(-0.00666262, 0.702124, -0.00655823, 0.711993)
bones/15/rotation = Quaternion(-2.98023e-08, -2.98023e-08, 2.98023e-08, 1)
bones/16/rotation = Quaternion(-7.45058e-08, 2.98023e-08, -1.49012e-08, 1)
bones/17/rotation = Quaternion(-2.98023e-08, 2.98023e-08, 2.98023e-08, 1)
bones/18/rotation = Quaternion(2.98023e-08, -2.98023e-08, -2.98023e-08, 1)
bones/19/rotation = Quaternion(-2.98023e-08, -2.98023e-08, -2.98023e-08, 1)
bones/20/rotation = Quaternion(5.96046e-08, 0, 0, 1)
bones/21/rotation = Quaternion(-0.214187, 0.673887, 0.214187, 0.673887)
bones/22/rotation = Quaternion(-8.66804e-10, 1.96695e-08, -3.37568e-08, 1)
bones/23/rotation = Quaternion(-3.65832e-09, -4.37989e-15, 1.13323e-15, 1)
bones/24/rotation = Quaternion(-4.41596e-09, 9.20112e-15, 2.96331e-16, 1)
bones/26/rotation = Quaternion(-0.00934586, 0.999932, -7.15703e-05, 0.00698249)
bones/27/rotation = Quaternion(-9.6727e-06, 0.7071, 8.42937e-07, 0.707114)
bones/28/rotation = Quaternion(-0.00664941, -0.702114, 0.00655724, 0.712003)
bones/29/rotation = Quaternion(0, -2.98023e-08, -1.49012e-08, 1)
bones/30/rotation = Quaternion(-8.9407e-08, 2.98023e-08, 2.98023e-08, 1)
bones/31/rotation = Quaternion(-2.98023e-08, 2.98023e-08, 2.98023e-08, 1)
bones/32/rotation = Quaternion(0, -2.98023e-08, -1.49012e-08, 1)
bones/34/rotation = Quaternion(5.96046e-08, -5.96046e-08, 0, 1)
bones/35/rotation = Quaternion(-0.214187, -0.673887, -0.214187, 0.673887)
bones/36/rotation = Quaternion(-4.55703e-08, 1.01328e-08, -6.41e-09, 1)
bones/37/rotation = Quaternion(0.00117628, 4.98021e-07, 0.999999, 1.20963e-05)
bones/37/scale = Vector3(1, 1, 1.00002)
bones/38/rotation = Quaternion(-2.8288e-10, 1, 3.55347e-09, -2.76892e-10)
bones/38/scale = Vector3(1, 1, 1)
bones/39/rotation = Quaternion(-0.000823073, 0.707102, -0.707111, -0.000840278)
bones/40/rotation = Quaternion(-0.00117613, 5.01754e-07, 0.999999, -1.20991e-05)
bones/40/scale = Vector3(1, 1, 1.00002)
bones/41/rotation = Quaternion(3.16436e-10, 1, 3.5524e-09, 1.60446e-10)
bones/41/scale = Vector3(1, 1, 1)
bones/42/rotation = Quaternion(0.00082286, 0.707102, -0.707111, 0.000840581)
bones/42/scale = Vector3(1, 0.999993, 1.00001)

[node name="character_oldadult_male" parent="character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male/character_rig_oldadult_male/GeneralSkeleton" index="0"]
surface_material_override/1 = SubResource("StandardMaterial3D_7mxoj")

[node name="AnimationPlayer" type="AnimationPlayer" parent="character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male" index="1"]
libraries = {
"": SubResource("AnimationLibrary_soyju")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 0.929461, -0.36892, 0, 0.36892, 0.929461, 0, 1.19524, 0.0490149)
shape = SubResource("CapsuleShape3D_cspw3")

[node name="Mouth" type="BoneAttachment3D" parent="." index="2"]
transform = Transform3D(0.999105, -0.0045789, -0.0420532, -0.0112936, 0.929167, -0.369487, 0.0407663, 0.369631, 0.928284, 0.00108486, 1.40698, -0.0427535)
bone_name = "Head"
bone_idx = 24
use_external_skeleton = true
external_skeleton = NodePath("../character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male/character_rig_oldadult_male/GeneralSkeleton")

[node name="CaseyDialog" type="AudioStreamPlayer3D" parent="Mouth" index="0"]
transform = Transform3D(-0.999745, 0.0221626, -0.00429578, 0.0195536, 0.755018, -0.655413, -0.0112822, -0.65533, -0.755259, -0.0044381, 0.101295, 0.303589)

[node name="RightHand" type="BoneAttachment3D" parent="." index="3"]
transform = Transform3D(0.0710898, 0.744495, 0.663833, 0.994517, -0.00173202, -0.10456, -0.0766949, 0.667626, -0.740536, -0.0357432, 1.17111, 0.32316)
bone_name = "RightIndexIntermediate"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male/character_rig_oldadult_male/GeneralSkeleton")

[node name="drink" parent="RightHand" index="0" instance=ExtResource("3_krhma")]
transform = Transform3D(0.0721157, 0.994383, -0.0774756, 0.743828, -0.00187009, 0.668368, 0.664469, -0.105828, -0.739784, -0.055264, -0.0335086, 0.0437606)

[node name="AnimationTree" type="AnimationTree" parent="." index="4"]
root_node = NodePath("../character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male")
libraries = {
"": SubResource("AnimationLibrary_soyju")
}
tree_root = SubResource("AnimationNodeBlendTree_dvkwt")
anim_player = NodePath("../character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male/AnimationPlayer")
parameters/Add2/add_amount = 1.0
parameters/Drink/active = false
parameters/Drink/internal_active = false
parameters/Drink/request = 0
parameters/HeadTurn/blend_position = 2.08165e-12

[editable path="character_oldadult_male_character_rig_oldadult_male_Skeleton3D#character_oldadult_male"]
